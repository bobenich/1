Пошагово

1. Replica Count: Мы начинаем с 4 реплик, так как это количество подов, которое справляется с пиковой нагрузкой.

2. Resource Requests and Limits: Начальное количество ресурсов для каждого пода выставлено повыше (256Mi memory и 0.5 CPU) в связи со всплеском потребления ресурсов при инициализации. Ограничения выставлены для предотвращения чрезмерного использования ресурсов, что важно в условиях ограниченного окружения.

3. Readiness и Liveness Probes: Использование проверок готовности и жизнеспособности обеспечивает стабильность приложения, позволяя Kubernetes отслеживать, когда поды готовы принимать трафик и перезапускать их в случае сбоев.

4. Horizontal Pod Autoscaler (HPA): Это решение позволяет автоматически масштабировать количество реплик в зависимости от загрузки CPU. Установленные минимальные и максимальные реплики учитывают требования к отказоустойчивости и соответственно помогают снижать затраты на ресурсы в ночное время. HPA помогает легко регулировать количество подов в зависимости от текущей нагрузки.
